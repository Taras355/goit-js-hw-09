{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEeC,SAASC,cAAc,SAC/BC,iBAAiB,UAExB,SAAkBC,G,kBAIV,IAoBeC,EAAUC,EACvBC,EArBIC,EACFC,OAAOL,EAAMM,OAAOC,SAASC,KAAKC,OAASC,EAC3CL,OAAOL,EAAMM,OAAOC,SAASL,MAAMO,QAkBxBR,EAjBDS,EAAI,EAiBOR,EAjBJE,EAkBnBD,EAAgBQ,KAAKC,SAAW,GAC/B,IAAIC,SAAQ,SAACC,EAAKC,GACrBC,YAAW,WACHb,EACAW,EAAI,uBAAwCG,OAAfhB,EAAS,QAAYgB,OAANf,EAAM,OAEhDa,EAAE,sBAAqCE,OAAfhB,EAAS,QAAYgB,OAANf,EAAM,M,GAEpDA,E,KAzBEgB,MAAK,SAACT,GACHd,EAAAwB,OAAOC,QAAQX,GACfY,QAAQC,IAAIb,E,IAEfc,OAAM,SAACC,GACJ7B,EAAAwB,OAAOM,QAAQD,GACfH,QAAQC,IAAIE,E,IAEfE,SAAQ,WACDrB,OAAOL,EAAMM,OAAOC,SAASoB,OAAOlB,OAASC,GAAM,GACnDV,EAAMM,OAAOsB,iBAAiBC,gBAAgB,W,KAjB9D7B,EAAM8B,iBACN9B,EAAMM,OAAOsB,iBAAiBG,aAAa,WAAY,IACvD,IAAK,IAAIC,EAAI,EAAGA,EAAI3B,OAAOL,EAAMM,OAAOC,SAASoB,OAAOlB,OAAQuB,GAAK,EAACC,EAAAD,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\n\nconst formEl = document.querySelector(\".form\");\nformEl.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    event.target.lastElementChild.setAttribute(\"disabled\", \"\");\n    for (let i = 0; i < Number(event.target.elements.amount.value); i += 1) {\n        const realDelay =\n            Number(event.target.elements.step.value) * i +\n            Number(event.target.elements.delay.value);\n        createPromise(i + 1, realDelay)\n            .then((value) => {\n                Notify.success(value);\n                console.log(value);\n            })\n            .catch((err) => {\n                Notify.failure(err);\n                console.log(err);\n            })\n            .finally(() => {\n                if (Number(event.target.elements.amount.value) - i === 1) {\n                    event.target.lastElementChild.removeAttribute(\"disabled\");\n                }\n            });\n    }\n}\n\nfunction createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n    return new Promise((res, rej) => {\n        setTimeout(() => {\n            if (shouldResolve) {\n                res(`✅ Fulfilled promise ${position} in ${delay}ms`);\n            } else {\n                rej(`❌ Rejected promise ${position} in ${delay}ms`);\n            }\n        }, delay);\n    });\n}\n"],"names":["$h6c0i","parcelRequire","document","querySelector","addEventListener","event","position","delay","shouldResolve","realDelay","Number","target","elements","step","value","i","Math","random","Promise","res","rej","setTimeout","concat","then","Notify","success","console","log","catch","err","failure","finally","amount","lastElementChild","removeAttribute","preventDefault","setAttribute","i1","_loop"],"version":3,"file":"03-promises.6eaa4dcd.js.map"}