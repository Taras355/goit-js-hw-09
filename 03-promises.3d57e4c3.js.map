{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SA6BA,SAASC,EAAcC,EAAUC,GAC7B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAAKC,KACrBC,YAAW,KACHN,EACAI,EAAI,uBAAqBN,QAAiBC,OAExCM,EAAE,sBAAoBP,QAAeC,MAAU,GAEtDA,EAAM,G,CApCFQ,SAASC,cAAc,SAC/BC,iBAAiB,UAExB,SAAkBC,GACdA,EAAMC,iBACND,EAAME,OAAOC,iBAAiBC,aAAa,WAAY,IACvD,IAAK,IAAIC,EAAI,EAAGA,EAAIC,OAAON,EAAME,OAAOK,SAASC,OAAOC,OAAQJ,GAAK,EAAG,CACpE,MAAMK,EACFJ,OAAON,EAAME,OAAOK,SAASI,KAAKF,OAASJ,EAC3CC,OAAON,EAAME,OAAOK,SAASlB,MAAMoB,OACvCtB,EAAckB,EAAI,EAAGK,GAChBE,MAAMH,IACHxB,EAAA4B,OAAOC,QAAQL,GACfM,QAAQC,IAAIP,EAAM,IAErBQ,OAAOC,IACJjC,EAAA4B,OAAOM,QAAQD,GACfH,QAAQC,IAAIE,EAAI,IAEnBE,SAAQ,KACDd,OAAON,EAAME,OAAOK,SAASC,OAAOC,OAASJ,GAAM,GACnDL,EAAME,OAAOC,iBAAiBkB,gBAAgB,WAAW,G","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix/build/notiflix-notify-aio\";\n\nconst formEl = document.querySelector(\".form\");\nformEl.addEventListener(\"submit\", onSubmit);\n\nfunction onSubmit(event) {\n    event.preventDefault();\n    event.target.lastElementChild.setAttribute(\"disabled\", \"\");\n    for (let i = 0; i < Number(event.target.elements.amount.value); i += 1) {\n        const realDelay =\n            Number(event.target.elements.step.value) * i +\n            Number(event.target.elements.delay.value);\n        createPromise(i + 1, realDelay)\n            .then((value) => {\n                Notify.success(value);\n                console.log(value);\n            })\n            .catch((err) => {\n                Notify.failure(err);\n                console.log(err);\n            })\n            .finally(() => {\n                if (Number(event.target.elements.amount.value) - i === 1) {\n                    event.target.lastElementChild.removeAttribute(\"disabled\");\n                }\n            });\n    }\n}\n\nfunction createPromise(position, delay) {\n    const shouldResolve = Math.random() > 0.3;\n    return new Promise((res, rej) => {\n        setTimeout(() => {\n            if (shouldResolve) {\n                res(`✅ Fulfilled promise ${position} in ${delay}ms`);\n            } else {\n                rej(`❌ Rejected promise ${position} in ${delay}ms`);\n            }\n        }, delay);\n    });\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","res","rej","setTimeout","document","querySelector","addEventListener","event","preventDefault","target","lastElementChild","setAttribute","i","Number","elements","amount","value","realDelay","step","then","Notify","success","console","log","catch","err","failure","finally","removeAttribute"],"version":3,"file":"03-promises.3d57e4c3.js.map"}